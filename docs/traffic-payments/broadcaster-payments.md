# Оплата трафика бродкастерами

Если в [премиум пуле][1] включена опция оплаты трафика бродкастерами, то весь трафик в рамках данного пула оплачивается со специального счета бродкастера. В такой схеме узлы, отдающие трафик, получают вознаграждение не напрямую (как при обычных расчетах за трафик), а по системе "лотерея", описанной в этом разделе. Такая архитектура минимизирует риски накрутки со стороны отдающих узлов.

### Система "лотерея"

Данная система выполняет розыгрыш вознаграждения между пользователями, которые активно отдавали трафик:

- в розыгрыше принимают участие пользователи, которые отдали как минимум 1 Гб трафик
- за каждый 1 Гб отданного трафика участник получает 1 лот
- раз в 30 дней запускается лотерея - это смарт-контракт [Reward Uploaders][2], который выбирает случайным образом выигрышные лоты и перечисляет им вознаграждение
- выигрышным является каждый сотый лот
- выигрышный лот получает вознаграждение, эквивалентное 100 Гб трафика
- количество лотов на одного пользователя не ограничено

### Техническая реализация

Средства для распределения лотереей аккумулируются в основном блокчейне в специальном пуле - это поле, привязанное к аккаунту бродкастера, к которому имеют доступ только системные смарт-контракты. Этот пул пополняется системой учета трафика и времени - в момент оплаты бродкастером трафика токены переводятся со счета для оплаты трафика в пул для лотереи. Содержимое этого пула распределяется между победителя в момент запуска лотереи.

Данные для формирования лотов хранятся в основном блокчейне в виде списка пар "user_account → traffic_amount" (количество отданных единиц трафика для каждого пользователя). Данные пары обновляются системой учета трафика и времени.

[1]: ../services/premium-pool.md
[2]: ../list-of-operations/reward-uploaders.md