# Ace Deposit

==TODO: english version==

## Описание

Ace Deposit – это сберегательный (депозитный) счет для системных токенов «Ace Token» (XAT), с плавающей ставкой.

Минимально гарантированная процентная ставка до 1 января 2023 - 12% годовых. Данная гарантия будет подтверждена отдельным смарт-контрактом.

После указанной даты программа «Ace Deposit» будет обеспечивать только плавающую процентную ставку, зависящую от объемов эмиссии инфляционных токенов и общего размера депозитов в Системе.

## Расчет процентной ставки

Начисление процентов происходит за счет эмиссии инфляционных системных токенов (XAT), путем их пропорционального распределения между держателями депозитных счетов «Ace Deposit».

Детали алгоритма инфляции описаны [здесь][1]

Расчетный период по депозитам составляет 28 дней.

Процент по депозиту за предыдущий расчетный период обновляется один раз в неделю и рассчитывается по такой формуле:

```python
targetDepositPercent = inflationPool.amount / totalDepositTokens * 100
```

где

- `targetDepositPercent` - процент по депозиту, за предыдущий расчетный период (28 дней)
- `inflationPool.amount` - количество токенов в инфляционном пуле на момент запуска смарт-контракта (это объем инфляционных токенов, которые идут в распределение за предыдущий расчетный период)
- `totalDepositTokens` - общее количество токенов на счетах, участвующих в программе «Ace Deposit»


## Условия программы Ace Deposit

Для участия в программе «Ace Deposit» нужно осуществить депонирование токенов Ace Token (XAT) на специализированном счете своего персонального кошелька с названием «Ace Deposit».

Токены, сгенерированные в результате инфляции, пропорционально распределяются между участниками программы «Ace Deposit» на описанных ниже условиях.

Распределение инфляционных токенов осуществляется между счетами, на которых токены задепонированы как минимум 28 полных дней. Это означает, что в течение указанного периода на счету не было перемещения токенов. Условие депонирования проверяется в момент запуска смарт-контракта [Ace Deposit][2].

Сгенерированные в результате инфляции XAT попадают в системный пул [`inflationPool`][3] и распределяются смарт-контрактом [Ace Deposit][2] в момент его очередного запуска.

Смарт-контракт [Ace Deposit][2] запускается автоматически один раз в 7 дней и выполняет следующие операции:

- находит все депозитные счета, на которых токены не перемещались как минимум 28 дней на момент запуска смарт-контракта (назовем эти счета `targetDepositAccounts`)
- начисляет токены на эти счета по формуле:

    ```python
    targetDepositAmount = accountDepositTokens *
        (inflationPool.amount / totalDepositTokens)
    ```

    где

    - `targetDepositAmount` - количество токенов для зачисления на конкретный счет
    - `inflationPool.amount` - количество токенов в инфляционном пуле
    - `totalDepositTokens` - общее количество токенов на счетах `targetDepositAccounts`
    - `accountDepositTokens` - количество токенов на конкретном счету

Каждый счет, на который были начислены проценты, может получить следующее начисление не ранее, чем через 28 дней.

Задепонированные токены не перемещаются на чужие счета и находятся в полном распоряжении их владельцев. Токены можно вывести со счета «Ace Deposit» в любой момент, однако при этом будет нарушено условие депонирования и на данный счет не будут начислены проценты в рамках программы в момент следующего запуска смарт-контракта [Ace Deposit][2]. К примеру: если владелец токенов вывел их из депозитного счета через 35 дней, то к расчету будет браться только полные 28 дней, а 7 дней учтены не будут.

[1]: ../system-tokens/inflation.md
[2]: ../list-of-operations/ace-deposit.md
[3]: ../glossary/system-pools.md#inflationpool