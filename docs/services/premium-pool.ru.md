# Premium Pool

Премиум пул - это объединение одного либо более бродкастеров, которое характеризуется общими условиями биллинга. С технической точки зрения премиум пул - это сущность в блокчейне с такими свойствами:

- список бродкастеров
- настройки биллинга


## Системный пул

Системный пул - это премиум пул, вдалельцем которого является вся Сеть.

Настройки системного пула хранятся в системной переменной `system_premium_pool_settings`. Изменять настройки системного пула можно путем [голосования][4].

К системному пулу может подключиться любой бродкастер.

Для оплаты доступа к контенту в рамках системного пула используются системные токены (Ace Time, Ace Byte). Также возможна оплата другими токенами (например, стейблкоинами), список которых утвержден голосованием владельцев системы.


## Настройки пула

В настройках пула хранится информация по биллингу:

- стоимость и длительность подписки
- стоимость минуты для поминутной тарификации
- стоимость разового доступа
- кто оплачивает трафик (бродкастеры либо пользователи)

Стоимость доступа указывается в системных токенах Ace Time.

Настройки биллинга позволяют включать либо выключать определенные типы биллинга, а также создавать несколько вариантов доступа. Например, можно сделать два варианта подписки: на 28 и на 360 дней.

Стоимость доступа может зависеть от страны, что тоже можно указать в настройках биллинга.

Настройки биллинга применяются ко всему контенту, подключенному к пулу.


## Распределение доходов в пуле

Премиум пул получает доход в виде платежей за доступ к контенту. Этот доход распределяется между бродкастерами данного пула согласно правил биллинга, описанных ниже.


## Биллинг

### Подписка

Подписка предоставляет доступ к контенту в рамках пула на фиксированный период времени (например, на 28 дней). Доступ по подписке ограничен временем просмотра - не более 1000 минут за 28 дней.

Покупка подписки осуществляется операцией [Buy Subscription][5].

Подписка активируется в момент покупки.

Распределение средств от оплаты подписок осуществляется в два этапа.
Комиссия сети оплачивается в момент покупки подписки.
Доля бродкастеров распределяется системным смарт-контрактом [Distribute Subscriptions][6] после окончания срока действия подписки. Доля бродкастеров распределяется между бродкастерами, контент которых смотрел пользователь подписки за период ее действия, пропорционально времени просмотра. Детали алгоритма распределения смотрите в описании смарт-контракта.


### Поминутная тарификация

Предусматривает оплату за каждую минуту просмотра контента. Средства списываются со счета для оплаты сервисов пользователя, который смотрит контент. Оплата комиссии Сети и распределение средств выполняется в момент оплаты. Доля бродкастера зачисляется на его счет в момент оплаты.

Списание и распределение средств осуществляется блокчейном второго уровня в рамках системы [учета трафика и времени][7].


### Разовый доступ

Предоставляет доступ к одной конкретной единице контента.

Логика работы разового доступа зависит от типа контента:

- VOD - доступ предоставляется навсегда
- Live - доступ предоставляется на фиксированное время (это время указано в настройках биллинга)

Покупка разового доступа осуществляется операцией [Buy Single Access][8]. Эта же операция выполняет оплату комиссии Сети и распределение средств. Средства списываются со счета для оплаты сервисов пользователя, который смотрит контент. Распределение средств выполняется в момент оплаты. Доля бродкастера зачисляется на его счет в момент оплаты.

Разовый доступ активируется в момент покупки.


## Оплата трафика

В настройках премиум пула есть возможность выбора стороны, оплачивающей трафик: пользователь либо бродкастер.

Если трафик оплачивают пользователи, то расчеты за трафик выполняются по обычной схеме (точно так же, как для контента, не входящего в премиум пул).

Оплата трафика бродкастерами выполняется по такой схеме:

- весь трафик оплачивается со специального счета бродкастера
- узлы, потребляющие трафик, ничего не платят
- узлы, отдающие трафик, могут получить вознаграждение по системе "лотерея" (подробное описание [здесь][9])


## Контроль доступа к контенту

Контроль доступа полностью децентрализован и осуществляется узлами сети при обмене данными между собой. Каждый узел, участвующий в передаче данных по контенту из премиум пула, перед передачей данных другому узлу проверяет наличие у него доступа к данному контенту согласно настройкам пула.

[2]: #_3
[3]: ../glossary/transport-file.md
[4]: ../glossary/system-settings.md
[5]: ../list-of-operations/buy-subscription.md
[6]: ../list-of-operations/distribute-subscriptions.md
[7]: ../get-started/traffic-time-accounting.md
[8]: ../list-of-operations/buy-single-access.md
[9]: ../traffic-payments/broadcaster-payments.md
[10]: #_7
[11]: ../system-tokens/exchange.md
