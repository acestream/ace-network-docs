# Premium Pool

A premium pool is one or more broadcasters who share a common billing policy. Technically, a premium pool is a blockchain-stored entity that has the following properties:

- list of owners
- list of broadcasters
- billing policy
- income redistribution policy

All properties can be changed only through the procedure of voting of pool's owners.


## Copyrights

Premium pools may be automatically dismantled if owners fail to provide evidence of copyright ownership. Ace Network has oracles entitled to resolve copyright disputes, and the majority of oracles can decide to stop premium pools because of copyright violations.


## Pool-specific Tokens

Pools are able to issue their own tokens. In that case, where owners had chosen to have their own token, the full amount of such tokens should be minted as part of the pool's creation procedure.

The pool may operate minted tokens as with local currency, for example — demand payment for the pool's content in the pool's tokens.


## Authomated exchange of pool specific-tokens

If a user wishes to pay for the pool's content with system tokens, the pool-specific tokens could be automatically bought on the system's internal [exchange][11].



## Pool creation

Any Ace Network's account is able to create pools by performing [Create Premium Pool][1] operation, that includes:

- confirming pool's properties
- deciding who should be billed for pool's traffic (either broadcasters or watchers)
- deciding if the pool would need its own token or not
- paying system fee of 1000XAT to create a pool with specified parameters

As a result, a special account to represent the newly created pool and store its parameters will be created. Owners of the pool will be signors of this special account.


## Broadcasting from the pools

If brodcaster is listed in pool's settings and want to 

Для подключения к пулу требуется выполнения таких условий:

- бродкастер должен указать в [транспортном файле][3] идентификатор пула (его публичный ключ)
- публичный ключ бродкастера должен быть добавлен в список участников пула.

Добавить нового участника в пул могут либо владельцы пула, либо аккаунт, которому владельцы пула делегировали это полномочие.


## Системный пул

Системный пул - это открытый пул, вдалельцем которого является вся Сеть.

Настройки системного пула хранятся в системной настройке `system_premium_pool_settings`. Соответственно, изменять настройки системного пула можно путем [изменения системных настроек][4].

В отличие от обычных премиум пулов, настройки биллинга системного пула можно изменять.

К системному пулу может подключиться любой бродкастер.

Для оплаты доступа к контенту в рамках системного пула используются системные токены.


## Владельцы пула и участники пула

Владельцы пула - это аккаунты, у которых есть право изменять настройки пула, в том числе список владельцев и список участников. Владельцам пула изначательно принадлежат все токены, которые выпускаются в процессе создания пула (для пулов с токенами).

Владельцем системного пула является вся Сеть в целом.

Участники пула - это бродкастеры, подключенные к пулу. Список участников хранится в настройках пула. Изменять список участников могут только владельцы пула. Исключением является системный пул - его участником может стать любой бродкастер.


## Комиссия сети

В пулах с токенами комиссия сети распространяется только на эмисиию токенов - 30% от выпущенных токенов.
При оплате доступа в контенту в таких пулах комиссии нет.

В пулах без токенов комиссия сети составляет 30% от каждого платежа для оплаты доступа к контенту.


## Настройки пула

В настройках пула хранится такая информация:

- список участников (бродкастеров)
- настройки распределения доходов
- настройки биллинга:
    - кто оплачивает трафик (бродкастеры либо пользователи)
    - стоимость разового доступа
    - стоимость минуты для поминутной тарификации
    - стоимость и длительность подписки

Настройки биллинга позволяют включать либо выключать определенные типы биллинга, а также создавать несколько вариантов доступа. Например, можно запретить разовый доступ и поминутную тарификацию и сделать два варианта подписки: на 30 и на 360 дней.

Стоимость доступа может зависеть от страны, что тоже можно указать в настройках биллинга.

Настройки биллинга указываются при создании пула и не могут быть изменены впоследствии. Если возникает необходимость изменить условия доступа к контенту, нужно создать новый премиум пул с новыми настройками.

Настройки биллинга применяются ко всему контенту, подключенному к пулу.


## Распределение доходов в пуле

Премиум пул получает доход в виде платежей за доступ к контенту. Этот доход распределяется между бродкастерами данного пула согласно правил биллинга, описанных ниже.

Также в настройках пула можно опционально указывать аккаунты, которые будут получать отчисления от всех платежей за доступ к контенту в рамках пула.

Пример:

```json
{
  "shareholders": [
    {
      "account_id": "GCXVRWMPOXVHW34Q4DUCFYGEKCOHCJ6SKBMHC63SRTNM3QMDZUZQOSL4",
      "share": 0.1
    },
    {
      "account_id": "GACJFCLDILCE5KT3UZ5KX2NRPHFNCUTYZYRIZRRAEAC5O3GYZKIISSNO",
      "share": 0.05
    }
  ]
}
```

В данном примере аккаунт `GCXV...OSL4` будет получать 10% от доходов, аккаунт `GACJ...SSNO` - 5%.
Оставшиеся 85% будут распределяться между бродкастерами.


## Биллинг

### Подписка

Подписка предоставляет доступ к контенту в рамках пула на фиксированный период времени (например, на 30 дней). Доступ по подписке ограничен временем просмотра - не более 1000 минут в месяц.

Покупка подписки осуществляется операцией [Buy Subscription][5].

Подписка активируется в момент покупки.

Распределение средств от оплаты подписок осуществляется в два этапа.
Комиссия сети (для пулов без своих токенов) и доля аккаунтов, которые получают отчисления согласно настройкам пула (если такие есть), распределяется в момент покупки подписки.
Доля бродкастеров распределяется системным смарт-контрактом [Distribute Subscriptions][6] после окончания срока действия подписки. Доля бродкастеров распределяется между бродкастерами, контент которых смотрел пользователь подписки за период ее действия, пропорционально времени просмотра. Детали алгоритма распределения смотрите в описании смарт-контракта.


### Поминутная тарификация

Предусматривает оплату за каждую минуту просмотра контента. Средства списываются со счета для оплаты сервисов пользователя, который смотрит контент. Распределение средств выполняется в момент оплаты. Доля бродкастера зачисляется на его счет в момент оплаты.

Списание и распределение средств осуществляется блокчейном второго уровня в рамках системы [учета трафика и времени][7].


### Разовый доступ

Предоставляет доступ к одной конкретной единице контента.

Логика работы разового доступа зависит от типа контента:

- VOD - доступ предоставляется навсегда
- Live - доступ предоставляется на фиксированное время (это время указано в настройках биллинга)

Покупка разового доступа осуществляется операцией [Buy Single Access][8]. Эта же операция выполняет распределение средств. Средства списываются со счета для оплаты сервисов пользователя, который смотрит контент. Распределение средств выполняется в момент оплаты. Доля бродкастера зачисляется на его счет в момент оплаты.

Разовый доступ активируется в момент покупки.


## Оплата трафика

В настройках премиум пула есть возможность выбора стороны, оплачивающей трафик: пользователь либо бродкастер.

Если трафик оплачивают пользователи, то расчеты за трафик выполняются по обычной схеме (точно так же, как для контента, не входящего в премиум пул).

Оплата трафика бродкастерами выполняется по такой схеме:

- весь трафик оплачивается со специального счета бродкастера
- узлы, потребляющие трафик, ничего не платят
- узлы, отдающие трафик, могут получить вознаграждение по системе "лотерея" (подробное описание [здесь][9])


## Контроль доступа к контенту

Контроль доступа полностью децентрализован и осуществляется узлами сети при обмене данными между собой. Каждый узел, участвующий в передаче данных по контенту из премиум пула, перед передачей данных другому узлу проверяет наличие у него доступа к данному контенту согласно настройкам пула.

[1]: ../list-of-operations/create-premium-pool.md
[2]: #_3
[3]: ../glossary/transport-file.md
[4]: ../glossary/system-settings.md
[5]: ../list-of-operations/buy-subscription.md
[6]: ../list-of-operations/distribute-subscriptions.md
[7]: ../get-started/traffic-time-accounting.md
[8]: ../list-of-operations/buy-single-access.md
[9]: ../traffic-payments/broadcaster-payments.md
[10]: #_7
[11]: ../system-tokens/exchange.md
