{% extends "base.html" %}

{% block fonts %}
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,400i,700&display=fallback">
  <style>
    :root {
      --md-text-font-family: "Roboto";
      --md-code-font-family: "Roboto Mono";
    }
  </style>
{% endblock %}

{% block styles %}
  <!-- The order is important: load Bootstrap styles before Mkdocs because both contain "reset" stylesheets -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  {{ super() }}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="{{ 'assets/css/home.css' | url }}" />
{% endblock %}

<!-- Render custom "Home page" under tabs -->
{% block tabs %}
  {{ super() }}

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <!-- Home page -->
  <section class="mdx-container">
    <div class="md-grid md-typeset">
      <div class="mdx-home">

        <!-- Home content -->
        <div class="mdx-home__content">
          <div class="mdx-home__logo _anim__items">
            <img src="{{ 'assets/images/logo_carbon_negative_3.png' | url }}" />
          </div>

          <div class="mdx-home-title _anim__items">
              <h1 class="animate">
                {% block slogan %}Decentralized multimedia Network{% endblock %}
              </h1>
          </div>

          <div id="my-carousel" class="animate-slide carousel slide _anim__items">
            <ol class="carousel-indicators">
              <li data-target="#my-carousel" data-slide-to="0" class="active"></li>
              <li data-target="#my-carousel" data-slide-to="1"></li>
              <li data-target="#my-carousel" data-slide-to="2"></li>
              <li data-target="#my-carousel" data-slide-to="3"></li>
              <li data-target="#my-carousel" data-slide-to="4"></li>
              <li data-target="#my-carousel" data-slide-to="5"></li>
              <li data-target="#my-carousel" data-slide-to="6"></li>
              <li data-target="#my-carousel" data-slide-to="7"></li>
              <li data-target="#my-carousel" data-slide-to="8"></li>
              <li data-target="#my-carousel" data-slide-to="9"></li>
              <li data-target="#my-carousel" data-slide-to="10"></li>
              <li data-target="#my-carousel" data-slide-to="11"></li>
              <li data-target="#my-carousel" data-slide-to="12"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                {% block slide_1 %}
                  The world's most popular decentralized multimedia platform for online broadcasting using P2P (peer to peer) technology, with more than 10 years of history and an audience of over 30 million users.
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_2 %}
                  An open network owned and operated by its users
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_3 %}
                  Carbon-negative! Use Ace Stream to protect the environment from the huge damage caused by the centralized streaming industry and unicast technologies
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_4 %}
                  New and incredible multimedia experience; the solution for the "subscriptions fatigue" problem; real Web3
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_5 %}
                  Green CDN with unlimited bandwidth and the lowest cost of storage and data delivery in the world
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_6 %}
                  Decentralized financial and economic system based on one of the most advanced and reliable blockchain technologies in the world
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_7 %}
                  100% backed tokens and algorithmic stablecoin that generates fun and saves the environment
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_8 %}
                  Effective monetization of content and linear TV in decentralized networks
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_9 %}
                  Global decentralized betting platform where anyone can become a bookmaker and existing bookmakers can significantly expand their reach. One-click predictions and bets in live broadcasts!
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_10 %}
                  Decentralized sites, social networks, messengers and video conferencing that cannot be blocked
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_11 %}
                  The best solution to deal with "pirated" content in P2P networks, which takes into account everyone's interests (copyright holders, distributors and content consumers)
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_12 %}
                  Automated system of incentives and motivation for network participants, with bonuses and rewards for viewers, where everyone can earn tokens for watching their favorite content and for watching ads
                {% endblock %}
              </div>
              <div class="carousel-item">
                {% block slide_13 %}
                  Unique affiliate programs and DeFi programs that will increase your earnings
                {% endblock %}
              </div>
            </div>
          </div>

          <a href="library/dao-acestream/" class="md-button md-button--primary mdx-button--first _anim__items">
            {% block button_dao_title %}DAO Ace Stream{% endblock %}
          </a>
          <a href="library/finances/" class="md-button _anim__items">
            {% block button_finances_title %}Investments, DeFi{% endblock %}
          </a>
        </div>
      </div>
    </div>
  </section>

  <script>
    function isMobile() {
      return window.innerWidth <= 520;
    }

    function getSliderInterval() {
      return isMobile() ? 5000 : 10000;
    }

    function initCarousel() {
        var $carousel = $('#my-carousel');

        $carousel.carousel({
          interval: getSliderInterval(),
        });

        $carousel.on('touchstart', function(event){
            const xClick = event.originalEvent.touches[0].pageX;
            $(this).one('touchmove', function(event){
                const xMove = event.originalEvent.touches[0].pageX;
                const sensitivityInPx = 5;

                if( Math.floor(xClick - xMove) > sensitivityInPx ){
                    $(this).carousel('next');
                }
                else if( Math.floor(xClick - xMove) < -sensitivityInPx ){
                    $(this).carousel('prev');
                }
            });
            $(this).on('touchend', function(){
                $(this).off('touchmove');
            });
        });
    }

    function initAnimation() {
      const animItems = document.querySelectorAll('body,._anim__items');
      if (animItems.length > 0) {
          window.addEventListener('scroll', animOnScroll);
          function animOnScroll() {
              for (let index = 0; index < animItems.length; index++) {
                  const animItem = animItems[index];
                  const animItemHeight = animItem.offsetHeight;
                  const animItemOffset = offset(animItem).top;
                  const animStart = 4;

                  let animItemPoint = window.innerHeight - animItemHeight / animStart;
                  if (animItemHeight > window.innerHeight) {
                      animItemPoint = window.innerHeight - window.innerHeight / animStart;
                  }

                  if ((pageYOffset > animItemOffset - animItemPoint) && pageYOffset < (animItemOffset + animItemHeight)) {
                      console.log('docs: anim show');
                      animItem.classList.add('_active');
                  } else {
                      console.log('docs: anim hide');
                      if (!animItem.classList.contains('_anim__no__hide')) {
                          animItem.classList.remove('_active');
                      }

                  }
              }
          }
          function offset(el) {
              const rect = el.getBoundingClientRect(),
                  scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,
                  scrollTop = window.pageYOffset || document.documentElement.scrollTop;
              return { top: rect.top + scrollTop, left: rect.left + scrollLeft }
          }
          setTimeout(() => {
              animOnScroll();
          }, 500);
      }
    }

    function initPage() {
      initAnimation();
      setTimeout(function() {
        initCarousel();
      }, 5000);
    }

    function receiveMessage(event) {
      if(event.data.target === 'acestream-docs-site') {
        if(event.data.method === 'initPage') {
          initPage();
        }
      }
    }

    $(document).ready(function() {
      initPage();
    });

    window.addEventListener('message', receiveMessage, false);
  </script>

{% endblock %}

<!-- Content -->
{% block content %}{% endblock %}

<!-- Application footer -->
{% block footer %}{% endblock %}
